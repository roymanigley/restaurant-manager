import{a as A}from"./chunk-TSIVVEAZ.js";import{$ as S,$a as E,Ab as V,Ba as C,C as p,E as h,Ha as L,J as e,Ja as w,K as r,L as n,N as v,Sa as y,T as l,Va as I,Wa as u,Xa as N,Ya as x,Za as F,_a as M,ab as j,bb as _,cb as B,db as D,eb as T,fb as k,k as c,n as f,o as g,pa as b,v as s,w as m,ya as G}from"./chunk-ZVRC6D75.js";var R=()=>({width:"100%"}),q=(()=>{class i{constructor(t,o,a,d){this.authenticationService=t,this.notificationService=o,this.router=a,this.formBuilder=d,this.formGroup=this.formBuilder.group({username:[null,[u.required]],password:[null,[u.required]]})}login(){this.formGroup.valid&&this.authenticationService.login(this.formGroup.value.username,this.formGroup.value.password).subscribe({next:t=>this.onLoginSuccess(t),error:()=>this.onLoginFail()})}onLoginSuccess(t){this.notificationService.showInfo(`Welcome ${t.username}`),this.router.navigate(["/home"])}onLoginFail(){this.notificationService.showError("Login invalid")}static{this.\u0275fac=function(o){return new(o||i)(m(w),m(A),m(G),m(j))}}static{this.\u0275cmp=f({type:i,selectors:[["app-login"]],decls:25,vars:6,consts:[[1,"flex","gap-2","flex-column","align-items-center","mt-2"],["header","Staff Login"],[3,"ngSubmit","formGroup"],[1,"grid","gap-2"],[1,"col-12","text-center"],["src","/assets/img/logo.png"],[1,"col-12"],[1,"pi","pi-user"],["pInputText","","id","username","formControlName","username"],["for","username"],[1,"pi","pi-key"],["id","password","formControlName","password",3,"feedback"],["for","password"],["type","submit",3,"disabled"]],template:function(o,a){o&1&&(e(0,"div",0)(1,"p-card",1)(2,"form",2),v("ngSubmit",function(){return a.login()}),e(3,"div",3)(4,"div",4),n(5,"img",5),r(),e(6,"div",6)(7,"p-inputGroup")(8,"p-inputGroupAddon"),n(9,"i",7),r(),e(10,"p-floatLabel"),n(11,"input",8),e(12,"label",9),l(13,"Username"),r()()()(),e(14,"div",6)(15,"p-inputGroup")(16,"p-inputGroupAddon"),n(17,"i",10),r(),e(18,"p-floatLabel"),n(19,"p-password",11),e(20,"label",12),l(21,"Password"),r()()()(),e(22,"div",4)(23,"p-button",13),l(24,"Login"),r()()()()()()),o&2&&(s(2),p("formGroup",a.formGroup),s(17),h(S(5,R)),p("feedback",!1),s(4),p("disabled",a.formGroup.invalid))},dependencies:[L,y,_,B,D,T,k,F,I,N,x,M,E]})}}return i})();var U=[{path:"login",component:q}],ae=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=g({type:i})}static{this.\u0275inj=c({imports:[b,V,C.forChild(U)]})}}return i})();export{ae as AuthenticationModule};
